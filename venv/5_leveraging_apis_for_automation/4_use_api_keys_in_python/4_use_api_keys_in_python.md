# 4_use_api_keys_in_python

1. Accessing Weather API
2. Exploring API keys

The goal is to access API that requires a key and make a GET request using the requests library with the appropriate parameters.

## In Detail

There are many APIs that require keys to unlock access to the API's functions and datasets to prevent unwarranted use. So as a developer, it's a crucial skill to be able to set up and use API keys. We'll be accessing OpenWeatherMap's Weather API, and exploring the use of API keys in Python. Go to [openweathermap.org/api](https://openweathermap.org/api) and click on Sign Up to sign up for a free account with OpenWeather. After we've set up our account, go to My services. Here you'll see the features provided by the Free plan. Then click on API keys to access your API key, which has been uniquely generated for us. Copy your API key. Now, navigate to [openweathermap.org/forecast5](https://openweathermap.org/forecast5). And go to the section titled 'Built-in API request by city name'. This shows us how to make an API call using a specific city and the required parameters.

### The Code

The requests library has been imported and the base_url has been defined. Go ahead and set up the parameters. Assign it to a dictionary that maps each required parameter to a specific value. I've mapped the `q` parameter to `Paris,FR`. Feel free to use a different city, and then map the `appid` parameter to your API key, which you can paste in now and make it a string. Call `requests.get`, pass in `base_url` and assign the params argument to parameters. Finally, print out the text from the API response. Save and run the program to test it out. And the program works. Go ahead and practice accessing another API that requires a key, consulting the API's documentation and making a 'GET request' using the requests library with the appropriate parameters.

### Testing

Run the program with: `python3 use_api_keys.py`

### Results

```python
# Command script within prompt to run the program
Mac:4_use_api_keys_in_python vanessatsanguk$ python3 use_api_keys.py
# The current data in Paris, France is:
{"cod":"200","message":0,"cnt":40,"list":[{"dt":1769148000,"main":{"temp":278.74,"feels_like":275.36,"temp_min":278.74,"temp_max":279.33,"pressure":990,"sea_level":990,"grnd_level":980,"humidity":94,"temp_kf":-0.59},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10n"}],"clouds":{"all":100},"wind":{"speed":4.72,"deg":153,"gust":11.18},"visibility":8392,"pop":0.77,"rain":{"3h":0.81},"sys":{"pod":"n"},"dt_txt":"2026-01-23 06:00:00"},{"dt":1769158800,"main":{"temp":278.98,"feels_like":275.43,"temp_min":278.98,"temp_max":279.45,"pressure":990,"sea_level":990,"grnd_level":982,"humidity":91,"temp_kf":-0.47},"weather":[{"id":501,"main":"Rain","description":"moderate rain","icon":"10d"}],"clouds":{"all":100},"wind":{"speed":5.21,"deg":171,"gust":11.36},"visibility":10000,"pop":1,"rain":{"3h":3.13},"sys":{"pod":"d"},"dt_txt":"2026-01-23 09:00:00"},{"dt":1769169600,"main":{"temp":280.82,"feels_like":277.82,"temp_min":280.82,"temp_max":281.86,"pressure":991,"sea_level":991,"grnd_level":982,"humidity":76,"temp_kf":-1.04},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":5.02,"deg":188,"gust":9.5},"visibility":10000,"pop":0.8,"sys":{"pod":"d"},"dt_txt":"2026-01-23 12:00:00"},{"dt":1769180400,"main":{"temp":281.93,"feels_like":279.2,"temp_min":281.93,"temp_max":281.93,"pressure":992,"sea_level":992,"grnd_level":982,"humidity":65,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":97},"wind":{"speed":5.03,"deg":190,"gust":9.86},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2026-01-23 15:00:00"},{"dt":1769191200,"main":{"temp":280.52,"feels_like":277.43,"temp_min":280.52,"temp_max":280.52,"pressure":993,"sea_level":993,"grnd_level":983,"humidity":68,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":91},"wind":{"speed":5.04,"deg":180,"gust":10.86},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-23 18:00:00"},{"dt":1769202000,"main":{"temp":279.24,"feels_like":275.98,"temp_min":279.24,"temp_max":279.24,"pressure":995,"sea_level":995,"grnd_level":985,"humidity":76,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"clouds":{"all":30},"wind":{"speed":4.72,"deg":186,"gust":11.42},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-23 21:00:00"},{"dt":1769212800,"main":{"temp":279.15,"feels_like":275.95,"temp_min":279.15,"temp_max":279.15,"pressure":996,"sea_level":996,"grnd_level":987,"humidity":74,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"clouds":{"all":37},"wind":{"speed":4.55,"deg":177,"gust":12.02},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-24 00:00:00"},{"dt":1769223600,"main":{"temp":278.37,"feels_like":276.03,"temp_min":278.37,"temp_max":278.37,"pressure":997,"sea_level":997,"grnd_level":987,"humidity":77,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":67},"wind":{"speed":2.85,"deg":154,"gust":10.36},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-24 03:00:00"},{"dt":1769234400,"main":{"temp":277.75,"feels_like":275.68,"temp_min":277.75,"temp_max":277.75,"pressure":997,"sea_level":997,"grnd_level":988,"humidity":77,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":59},"wind":{"speed":2.38,"deg":146,"gust":8.29},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-24 06:00:00"},{"dt":1769245200,"main":{"temp":277.74,"feels_like":275.24,"temp_min":277.74,"temp_max":277.74,"pressure":999,"sea_level":999,"grnd_level":989,"humidity":75,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":96},"wind":{"speed":2.9,"deg":122,"gust":7.52},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2026-01-24 09:00:00"},{"dt":1769256000,"main":{"temp":279.67,"feels_like":277.47,"temp_min":279.67,"temp_max":279.67,"pressure":999,"sea_level":999,"grnd_level":989,"humidity":64,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":96},"wind":{"speed":3.01,"deg":107,"gust":5.33},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2026-01-24 12:00:00"},{"dt":1769266800,"main":{"temp":280.84,"feels_like":278.89,"temp_min":280.84,"temp_max":280.84,"pressure":998,"sea_level":998,"grnd_level":988,"humidity":63,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":2.99,"deg":121,"gust":8.3},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2026-01-24 15:00:00"},{"dt":1769277600,"main":{"temp":279.96,"feels_like":278.19,"temp_min":279.96,"temp_max":279.96,"pressure":999,"sea_level":999,"grnd_level":989,"humidity":74,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":2.5,"deg":109,"gust":7.5},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-24 18:00:00"},{"dt":1769288400,"main":{"temp":278.9,"feels_like":277.27,"temp_min":278.9,"temp_max":278.9,"pressure":999,"sea_level":999,"grnd_level":989,"humidity":79,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":2.13,"deg":114,"gust":6.32},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-24 21:00:00"},{"dt":1769299200,"main":{"temp":278.21,"feels_like":278.21,"temp_min":278.21,"temp_max":278.21,"pressure":999,"sea_level":999,"grnd_level":989,"humidity":82,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":1.21,"deg":125,"gust":2.57},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-25 00:00:00"},{"dt":1769310000,"main":{"temp":277.83,"feels_like":276.84,"temp_min":277.83,"temp_max":277.83,"pressure":998,"sea_level":998,"grnd_level":988,"humidity":84,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":99},"wind":{"speed":1.42,"deg":100,"gust":2.26},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-25 03:00:00"},{"dt":1769320800,"main":{"temp":276.97,"feels_like":276.97,"temp_min":276.97,"temp_max":276.97,"pressure":997,"sea_level":997,"grnd_level":987,"humidity":87,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":85},"wind":{"speed":0.8,"deg":117,"gust":0.82},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-25 06:00:00"},{"dt":1769331600,"main":{"temp":277.39,"feels_like":277.39,"temp_min":277.39,"temp_max":277.39,"pressure":997,"sea_level":997,"grnd_level":988,"humidity":81,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":68},"wind":{"speed":0.85,"deg":120,"gust":1.28},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2026-01-25 09:00:00"},{"dt":1769342400,"main":{"temp":278.82,"feels_like":277.38,"temp_min":278.82,"temp_max":278.82,"pressure":996,"sea_level":996,"grnd_level":986,"humidity":71,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":86},"wind":{"speed":1.92,"deg":80,"gust":2.48},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2026-01-25 12:00:00"},{"dt":1769353200,"main":{"temp":279.65,"feels_like":278.63,"temp_min":279.65,"temp_max":279.65,"pressure":996,"sea_level":996,"grnd_level":986,"humidity":63,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":1.65,"deg":56,"gust":2.14},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2026-01-25 15:00:00"},{"dt":1769364000,"main":{"temp":278.47,"feels_like":277.19,"temp_min":278.47,"temp_max":278.47,"pressure":997,"sea_level":997,"grnd_level":987,"humidity":64,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":1.72,"deg":34,"gust":3.87},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-25 18:00:00"},{"dt":1769374800,"main":{"temp":277.73,"feels_like":276.01,"temp_min":277.73,"temp_max":277.73,"pressure":998,"sea_level":998,"grnd_level":989,"humidity":61,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":98},"wind":{"speed":2.02,"deg":352,"gust":5.29},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-25 21:00:00"},{"dt":1769385600,"main":{"temp":276.82,"feels_like":274.24,"temp_min":276.82,"temp_max":276.82,"pressure":1001,"sea_level":1001,"grnd_level":991,"humidity":70,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":99},"wind":{"speed":2.77,"deg":349,"gust":7.32},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-26 00:00:00"},{"dt":1769396400,"main":{"temp":275.38,"feels_like":272.49,"temp_min":275.38,"temp_max":275.38,"pressure":1003,"sea_level":1003,"grnd_level":993,"humidity":74,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":75},"wind":{"speed":2.81,"deg":338,"gust":7.32},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-26 03:00:00"},{"dt":1769407200,"main":{"temp":274.23,"feels_like":271.16,"temp_min":274.23,"temp_max":274.23,"pressure":1005,"sea_level":1005,"grnd_level":995,"humidity":79,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":64},"wind":{"speed":2.76,"deg":343,"gust":5.92},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-26 06:00:00"},{"dt":1769418000,"main":{"temp":273.92,"feels_like":271.41,"temp_min":273.92,"temp_max":273.92,"pressure":1007,"sea_level":1007,"grnd_level":996,"humidity":77,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":{"all":28},"wind":{"speed":2.15,"deg":359,"gust":3.48},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2026-01-26 09:00:00"},{"dt":1769428800,"main":{"temp":276.3,"feels_like":276.3,"temp_min":276.3,"temp_max":276.3,"pressure":1007,"sea_level":1007,"grnd_level":997,"humidity":61,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":{"all":26},"wind":{"speed":0.41,"deg":276,"gust":0.66},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2026-01-26 12:00:00"},{"dt":1769439600,"main":{"temp":277.66,"feels_like":276.13,"temp_min":277.66,"temp_max":277.66,"pressure":1006,"sea_level":1006,"grnd_level":996,"humidity":53,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":{"all":34},"wind":{"speed":1.83,"deg":195,"gust":3.08},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2026-01-26 15:00:00"},{"dt":1769450400,"main":{"temp":277.7,"feels_like":275.37,"temp_min":277.7,"temp_max":277.7,"pressure":1004,"sea_level":1004,"grnd_level":994,"humidity":59,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":67},"wind":{"speed":2.68,"deg":159,"gust":6.16},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-26 18:00:00"},{"dt":1769461200,"main":{"temp":277.36,"feels_like":274.4,"temp_min":277.36,"temp_max":277.36,"pressure":1002,"sea_level":1002,"grnd_level":992,"humidity":69,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":3.43,"deg":148,"gust":10.34},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-26 21:00:00"},{"dt":1769472000,"main":{"temp":278.38,"feels_like":274.71,"temp_min":278.38,"temp_max":278.38,"pressure":999,"sea_level":999,"grnd_level":989,"humidity":79,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":5.13,"deg":162,"gust":14.72},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-27 00:00:00"},{"dt":1769482800,"main":{"temp":279.58,"feels_like":276.75,"temp_min":279.58,"temp_max":279.58,"pressure":998,"sea_level":998,"grnd_level":988,"humidity":85,"temp_kf":0},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10n"}],"clouds":{"all":100},"wind":{"speed":4.03,"deg":197,"gust":12.01},"visibility":10000,"pop":1,"rain":{"3h":1.15},"sys":{"pod":"n"},"dt_txt":"2026-01-27 03:00:00"},{"dt":1769493600,"main":{"temp":279.5,"feels_like":276.65,"temp_min":279.5,"temp_max":279.5,"pressure":996,"sea_level":996,"grnd_level":986,"humidity":89,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":4.04,"deg":172,"gust":10.21},"visibility":10000,"pop":0.79,"sys":{"pod":"n"},"dt_txt":"2026-01-27 06:00:00"},{"dt":1769504400,"main":{"temp":279.47,"feels_like":277.09,"temp_min":279.47,"temp_max":279.47,"pressure":993,"sea_level":993,"grnd_level":984,"humidity":89,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":3.22,"deg":147,"gust":8.13},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2026-01-27 09:00:00"},{"dt":1769515200,"main":{"temp":278.94,"feels_like":276.31,"temp_min":278.94,"temp_max":278.94,"pressure":987,"sea_level":987,"grnd_level":977,"humidity":92,"temp_kf":0},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"clouds":{"all":100},"wind":{"speed":3.44,"deg":107,"gust":9.39},"visibility":5454,"pop":1,"rain":{"3h":2.72},"sys":{"pod":"d"},"dt_txt":"2026-01-27 12:00:00"},{"dt":1769526000,"main":{"temp":280.59,"feels_like":277.83,"temp_min":280.59,"temp_max":280.59,"pressure":984,"sea_level":984,"grnd_level":974,"humidity":93,"temp_kf":0},"weather":[{"id":501,"main":"Rain","description":"moderate rain","icon":"10d"}],"clouds":{"all":100},"wind":{"speed":4.35,"deg":182,"gust":12.63},"visibility":10000,"pop":1,"rain":{"3h":7.68},"sys":{"pod":"d"},"dt_txt":"2026-01-27 15:00:00"},{"dt":1769536800,"main":{"temp":281.38,"feels_like":278.25,"temp_min":281.38,"temp_max":281.38,"pressure":986,"sea_level":986,"grnd_level":976,"humidity":73,"temp_kf":0},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10n"}],"clouds":{"all":100},"wind":{"speed":5.7,"deg":223,"gust":13.19},"visibility":10000,"pop":1,"rain":{"3h":0.42},"sys":{"pod":"n"},"dt_txt":"2026-01-27 18:00:00"},{"dt":1769547600,"main":{"temp":280.06,"feels_like":276.22,"temp_min":280.06,"temp_max":280.06,"pressure":986,"sea_level":986,"grnd_level":977,"humidity":70,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":81},"wind":{"speed":6.71,"deg":203,"gust":15.54},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-27 21:00:00"},{"dt":1769558400,"main":{"temp":279.45,"feels_like":275.07,"temp_min":279.45,"temp_max":279.45,"pressure":986,"sea_level":986,"grnd_level":976,"humidity":70,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"clouds":{"all":46},"wind":{"speed":7.81,"deg":196,"gust":18.81},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-28 00:00:00"},{"dt":1769569200,"main":{"temp":279.54,"feels_like":275.1,"temp_min":279.54,"temp_max":279.54,"pressure":986,"sea_level":986,"grnd_level":976,"humidity":73,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":8.11,"deg":210,"gust":15.74},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2026-01-28 03:00:00"}],"city":{"id":2988507,"name":"Paris","coord":{"lat":48.8534,"lon":2.3488},"country":"FR","population":2138551,"timezone":3600,"sunrise":1769153510,"sunset":1769185958}}
# Program execution completed and back to prompt
Mac:4_use_api_keys_in_python vanessatsanguk$
```

[Screenshot of the above data output in my Terminal](./current_weather_in_Paris_France_data_from_using_api_key.png)

For security reasons, in the Python code, I have replaced my API key with `API_KEY`.
